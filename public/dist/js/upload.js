!function(){"use strict";function e(e){return document.querySelector(e)}function n(){f.classList.add("animate"),f.classList.add("bounce"),window.setTimeout(function(){f.classList.remove("animate"),f.classList.remove("bounce")},1e3)}function t(e){var n=0,t=e/1024;if(t>=0&&1024>t)n=Math.round(t)+"kb";else if(t>=1024){var i=t/1024;n=Math.round(100*i)/100+"mb"}return n}function i(e){return e.replace(/([a-zA-Z0-9-\.\s]{9}).+([a-zA-Z0-9-\.\s]{5})\.([a-zA-Z]+)/g,"$1..$2.$3")}function a(e){if(!e)return!1;var n,t=["image/jpeg","image/png","application/pdf","text/plain"],i=5e6;return n=-1===t.indexOf(e.type)?!1:e.size>i?!1:!0}function r(e){l.style.display="block";var r=e;if(void 0===r||-1!==v.indexOf(r.name+":"+r.size))return void n();v.push(r.name+":"+r.size),L=a(r);var s=document.createElement("a");s.setAttribute("href","#"),s.setAttribute("target","_blank");var o=document.createElement("li");if(s.innerHTML=i(r.name)+" <span>["+t(r.size)+"]</span>",L||(o.className="invalid"),o.appendChild(s),l.appendChild(o),L){var d=new XMLHttpRequest,u=new FormData;d.onload=function(){200===this.status&&(s.className="valid",s.setAttribute("href",this.response))},u.append("file",r),d.open("POST","/upload",!0),d.send(u)}}var s=window.File&&window.FileReader&&window.FileList&&window.Blob,o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),d=e("#message"),u=e("#drop-me"),l=e("#upload-list"),c=e("#upload-custom"),p=e("#custom-upload"),f=e("#upload-button"),m=e("#custom-upload-name"),v=[];if(p.addEventListener("change",function(){var e=p.files[0];m.innerHTML=i(e.name)}),c.addEventListener("click",function(){var e=p.files[0];r(e),m.innerHTML="No file selected"},!1),s){var L=!1;o||(d.innerHTML="Drop Here",u.addEventListener("dragover",function(e){e.preventDefault(),this.style.background="#48d278",d.innerHTML="Upload!"},!1),u.addEventListener("dragleave",function(){this.style.background="",d.innerHTML="Drop Here"},!1),u.addEventListener("drop",function(e){e.preventDefault(),this.style.background="",d.innerHTML="Drop Here";for(var n=0;n<e.dataTransfer.files.length;n++)r(e.dataTransfer.files[n])},!1))}else document.getElementById("message").innerHTML="Your browser is not supported"}(document,window);